<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>연혁 | 재단법인 서담(書潭)장학연구재단</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root { --ink:#1f2937; --muted:#6b7280; --line:#e5e7eb; }
    body { font-family: "Noto Sans KR", system-ui, -apple-system, Segoe UI, Roboto, sans-serif; color: var(--ink); }

    .page-hero {
      background: linear-gradient(180deg, #f8fafc 0%, #ffffff 100%);
      border-bottom: 1px solid var(--line);
    }
    .hero-title { font-weight: 700; letter-spacing: -0.02em; }
    .hero-desc { color: var(--muted); }

    /* ✅ 로딩 페이드 효과 (한 번만) */
    .reveal {
      opacity: 0;
      transform: translateY(10px);
      animation: reveal 900ms ease forwards;
    }
    .reveal.delay-1 { animation-delay: 120ms; }
    .reveal.delay-2 { animation-delay: 240ms; }
    .reveal.delay-3 { animation-delay: 360ms; }

    @keyframes reveal {
      to { opacity: 1; transform: translateY(0); }
    }

    /* Timeline */
    .timeline { position: relative; padding-left: 26px; border-left: 3px solid var(--line); }
    .t-item { position: relative; padding: 18px 0; }
    .t-dot {
      position: absolute; left: -11px; top: 26px;
      width: 18px; height: 18px; border-radius: 999px;
      background: #fff; border: 3px solid #9ca3af;
    }
    .t-year { font-weight: 700; font-size: 1.05rem; }
    .t-bullets { margin: 8px 0 0; color: var(--ink); }
    .t-bullets li { margin-bottom: 6px; }

    /* Gallery */
    .gallery-card { border: 1px solid var(--line); border-radius: 16px; overflow: hidden; background: #fff; }
    .gallery-head { padding: 14px 16px; border-bottom: 1px solid var(--line); background: #f9fafb; }
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px;
      padding: 14px;
    }
    @media (min-width: 768px) {
      .gallery-grid { grid-template-columns: repeat(4, 1fr); }
    }
    .g-item { aspect-ratio: 4/3; border-radius: 12px; overflow: hidden; border: 1px solid var(--line); background: #f3f4f6; }
    .g-item img { width: 100%; height: 100%; object-fit: cover; display: block; }
    .small-muted { color: var(--muted); font-size: 0.92rem; }

    .btn-soft {
      background: #111827; color: #fff; border: 0;
      border-radius: 12px; padding: 10px 14px;
    }
    .btn-soft:hover { opacity: .92; color:#fff; }
    code { background:#f3f4f6; padding:2px 6px; border-radius:8px; }
  </style>
</head>

<body>
  <!-- 네비게이션 -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom">
    <div class="container">
      <a class="navbar-brand fw-bold" href="../index.html">
        재단법인 서담(書潭)장학연구재단
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="nav" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="./about.html">재단소개</a></li>
          <li class="nav-item"><a class="nav-link active" href="./history.html">연혁</a></li>
          <li class="nav-item"><a class="nav-link" href="../contact/location.html">오시는 길</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 헤더 -->
  <header class="page-hero py-5">
    <div class="container">
      <div class="row align-items-end g-3">
        <div class="col-md-8 reveal delay-1">
          <h1 class="hero-title mb-2">연혁</h1>
          <p class="hero-desc mb-0">
            재단법인 서담(書潭)장학연구재단의 설립 및 주요 활동 이력입니다.
          </p>
        </div>
        <div class="col-md-4 text-md-end reveal delay-2">
          <button id="uploadBtn" class="btn btn-soft">사진 업로드</button>
          <div class="small-muted mt-2">* 내부 관리자용 기능</div>
        </div>
      </div>
    </div>
  </header>

  <main class="container my-5 reveal delay-3">
    <div class="row g-4">
      <!-- 타임라인 -->
      <div class="col-lg-7">
        <div class="timeline">
          <section class="t-item">
            <span class="t-dot"></span>
            <div class="t-year">2025</div>
            <ul class="t-bullets">
              <li>장학 및 학술 연구 지원 사업 확대</li>
              <li>학술·연구 관련 협력 기관 연계 강화</li>
            </ul>
          </section>

          <section class="t-item">
            <span class="t-dot"></span>
            <div class="t-year">2024</div>
            <ul class="t-bullets">
              <li>장학생 선발 및 연구 지원 프로그램 운영</li>
              <li>재단 운영 체계 정비</li>
            </ul>
          </section>

          <section class="t-item">
            <span class="t-dot"></span>
            <div class="t-year">2020</div>
            <ul class="t-bullets">
              <li>재단법인 서담(書潭)장학연구재단 설립</li>
            </ul>
          </section>
        </div>
      </div>

      <!-- 이미지 갤러리 -->
      <div class="col-lg-5">
        <div class="gallery-card">
          <div class="gallery-head d-flex align-items-center justify-content-between">
            <div class="fw-bold">재단 활동 사진</div>
            <div class="small-muted">장학·연구 활동 기록</div>
          </div>

          <div id="gallery" class="gallery-grid">
            <div class="g-item"><img src="../assets/img/sample1.jpg" alt="재단 활동 사진"></div>
            <div class="g-item"><img src="../assets/img/sample2.jpg" alt="재단 활동 사진"></div>
          </div>

          <div class="p-3 border-top">
            <div class="small-muted">업로드된 이미지는 재단 활동 기록 목적으로 활용됩니다.</div>
            <div id="lastUpload" class="mt-2 small-muted"></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Cloudinary Upload Widget -->
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>
  <script>
    const CLOUD_NAME = "YOUR_CLOUD_NAME";
    const UPLOAD_PRESET = "YOUR_UNSIGNED_UPLOAD_PRESET";

    const galleryEl = document.getElementById("gallery");
    const lastUploadEl = document.getElementById("lastUpload");

    function addImageToGallery(url) {
      const wrap = document.createElement("div");
      wrap.className = "g-item";
      const img = document.createElement("img");
      img.src = url;
      img.alt = "재단 활동 이미지";
      wrap.appendChild(img);
      galleryEl.prepend(wrap);
    }

    const widget = cloudinary.createUploadWidget(
      {
        cloudName: CLOUD_NAME,
        uploadPreset: UPLOAD_PRESET,
        sources: ["local", "camera", "url"],
        multiple: false,
        maxFileSize: 10 * 1024 * 1024,
        clientAllowedFormats: ["jpg", "jpeg", "png", "webp"]
      },
      (error, result) => {
        if (!error && result && result.event === "success") {
          const url = result.info.secure_url;
          addImageToGallery(url);
          lastUploadEl.innerHTML =
            `마지막 업로드: <a href="${url}" target="_blank" rel="noreferrer">${url}</a>`;
        }
      }
    );

    document.getElementById("uploadBtn").addEventListener("click", () => {
      if (CLOUD_NAME.includes("YOUR_") || UPLOAD_PRESET.includes("YOUR_")) {
        alert("Cloudinary 설정값을 먼저 입력해주세요.");
        return;
      }
      widget.open();
    });
  </script>
</body>
</html>
