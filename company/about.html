<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>재단소개 | 재단법인 서담(書潭)장학연구재단</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;600;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --ink:#1f2937;
      --muted:#6b7280;
      --line:#e5e7eb;

      /* 라이트 그린 톤(세련된 서브메뉴 포인트) */
      --brand:#166534;
      --brand-soft:#ecfdf5;
      --brand-soft-2:#d1fae5;

      /* 상단 햄버거 버튼 컬러(네이비) */
      --navy:#0b3a67;
    }

    body { font-family:"Noto Sans KR", sans-serif; color:var(--ink); }
    .muted { color:var(--muted); }
    .page-hero { background:#f8fafc; border-bottom:1px solid var(--line); }
    .hero-title { font-weight:800; letter-spacing:-.02em; }

    /* 상단(메인) 네비 */
    .top-actions { display:flex; align-items:center; gap:6px; }
    .top-actions .top-link{
      display:inline-flex; align-items:center;
      padding:10px 10px;
      border-radius:12px;
      text-decoration:none;
      color:var(--ink);
      font-weight:800;
    }
    .top-actions .top-link:hover{ background:#f3f4f6; }

    /* 햄버거 버튼 */
    .hambtn{
      width:64px; height:64px;
      display:inline-flex; align-items:center; justify-content:center;
      background:var(--navy); color:#fff;
      border:0; border-radius:0;
    }
    .hambtn:hover{ opacity:.95; }
    .hambtn svg{ width:26px; height:26px; }

    /* ====== 서브메뉴(탭) - 플래시처럼 세련된 등장 ====== */
    .subnav {
      border-bottom:1px solid var(--line);
      background:#fff;
      position: sticky;
      top: 0;
      z-index: 10;

      opacity: 0;
      transform: translateY(-14px);
      filter: blur(6px);
      pointer-events: none;
    }
    .subnav.is-in{
      opacity: 1;
      transform: translateY(0);
      filter: blur(0);
      pointer-events: auto;
      transition:
        opacity .22s ease,
        transform .34s cubic-bezier(.16,1,.3,1),
        filter .26s ease;
    }
    .subnav.is-in::after{
      content:"";
      position:absolute;
      left:0; right:0;
      top:0;
      height:1px;
      background: linear-gradient(90deg,
        rgba(22,101,52,0),
        rgba(22,101,52,.35),
        rgba(22,101,52,0)
      );
      animation: flashLine .7s ease both;
      pointer-events:none;
    }
    @keyframes flashLine{
      from { opacity:0; transform: translateY(-6px); }
      to   { opacity:1; transform: translateY(0); }
    }

    .subnav .nav-link{
      color: var(--ink);
      font-weight: 800;
      padding: 12px 14px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: all .18s ease;
      position: relative;
    }
    .subnav .nav-link:hover{
      background:#f0fdf4;
      border-color:#dcfce7;
      color:#14532d;
    }
    .subnav .nav-link.active{
      background: var(--brand-soft);
      border-color: var(--brand-soft-2);
      color: var(--brand);
      box-shadow: 0 10px 26px rgba(16,185,129,0.10);
    }

    /* 탭 전환 애니메이션 */
    .tab-pane{
      opacity: 0;
      transform: translateY(10px);
      filter: blur(4px);
      transition:
        opacity .20s ease,
        transform .28s cubic-bezier(.16,1,.3,1),
        filter .22s ease;
    }
    .tab-pane.is-active{
      opacity:1;
      transform: translateY(0);
      filter: blur(0);
    }

    /* 본문 */
    .content-wrap { padding: 28px 0 44px; }
    .section-title { font-weight:900; font-size: 1.35rem; margin-bottom: 14px; }
    .card-soft { border:1px solid var(--line); border-radius:18px; background:#fff; }
    .left-watermark {
      font-weight:900;
      color:#e5e7eb;
      letter-spacing:.06em;
      font-size: 44px;
      line-height: 1.05;
      user-select: none;
    }

    .btn-soft {
      background: #111827; color:#fff; border:0; border-radius:12px;
      padding: 10px 14px;
      font-weight:800;
    }
    .btn-soft:hover { opacity:.92; color:#fff; }
    .btn-ghost {
      border:1px solid var(--line); background:#fff; border-radius:12px; padding:10px 14px;
      font-weight:800;
    }
    .btn-ghost:hover { background:#f9fafb; }

    /* 갤러리 */
    .gallery {
      display:grid; grid-template-columns: repeat(2, 1fr);
      gap:10px;
    }
    @media (min-width: 768px) { .gallery { grid-template-columns: repeat(4, 1fr);} }
    .g-item { aspect-ratio: 4/3; border-radius:14px; overflow:hidden; border:1px solid var(--line); background:#f3f4f6; }
    .g-item img { width:100%; height:100%; object-fit:cover; display:block; }

    /* 연혁 타임라인 */
    .timeline {
      position: relative;
      padding-left: 22px;
      border-left: 3px solid var(--line);
    }
    .t-item{ position:relative; padding:14px 0; }
    .t-dot{
      position:absolute; left:-11px; top:20px;
      width:18px; height:18px; border-radius:999px;
      background:#fff; border:3px solid #9ca3af;
    }
    .t-year{ font-weight:900; }
    .t-item ul{ margin:8px 0 0; }
    .t-item li{ margin-bottom:6px; }

    /* 오시는 길 카드 */
    .addr-card{
      border:1px solid var(--line);
      border-radius:16px;
      padding:16px;
      background:#fff;
    }
    .addr-card a{
      color:var(--brand);
      font-weight:900;
      text-decoration:none;
    }
    .addr-card a:hover{ text-decoration:underline; }

    /* ====== Fullscreen overlay menu ====== */
    .menu-overlay{
      position: fixed;
      inset: 0;
      background: rgba(255,255,255,0.98);
      display: none;
      z-index: 9999;
    }
    .menu-overlay.open{ display:block; }
    .menu-overlay .close-area{
      position:absolute;
      top:0; right:0;
    }
    .menu-overlay .menu-wrap{
      height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 40px 18px;
    }
    .menu-grid{
      width:min(980px, 92vw);
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
    }
    @media (max-width: 768px){
      .menu-grid{ grid-template-columns: 1fr; gap: 28px; }
    }
    .menu-col h2{
      font-weight:900;
      font-size: 34px;
      margin-bottom: 18px;
    }
    .menu-col a{
      display:block;
      padding: 10px 0;
      font-weight:800;
      color: var(--ink);
      text-decoration:none;
    }
    .menu-col a:hover{ color: var(--brand); }
  </style>
</head>

<body>
  <!-- 상단 네비 -->
  <nav class="navbar bg-white border-bottom">
    <div class="container d-flex align-items-center justify-content-between">
      <a class="navbar-brand fw-bold m-0" href="../index.html">재단법인 서담(書潭)장학연구재단</a>

      <div class="d-flex align-items-center gap-2">
        <div class="top-actions d-none d-lg-flex">
          <a class="top-link" href="./about.html">재단소개</a>
          <a class="top-link" href="../notice/index.html">알림마당</a>
        </div>

        <button id="menuBtn" class="hambtn" type="button" aria-label="메뉴 열기">
          <svg viewBox="0 0 24 24" fill="none">
            <path d="M4 7h16M4 12h16M4 17h16" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
      </div>
    </div>
  </nav>

  <!-- 헤더 (✅ 편집모드 버튼 제거) -->
  <header class="page-hero py-4">
    <div class="container">
      <div class="hero-title h3 mb-1">재단소개</div>
      <div class="muted">서브메뉴에서 항목을 선택하면 내용이 전환됩니다.</div>
    </div>
  </header>

  <!-- 서브메뉴(탭) -->
  <div id="subnav" class="subnav position-relative">
    <div class="container">
      <ul class="nav nav-pills gap-2 py-2 flex-wrap">
        <li class="nav-item"><a class="nav-link active" href="#message" data-tab="message">이사장 인사말</a></li>
        <li class="nav-item"><a class="nav-link" href="#purpose" data-tab="purpose">설립취지</a></li>
        <li class="nav-item"><a class="nav-link" href="#scholarship" data-tab="scholarship">장학사업소개</a></li>
        <li class="nav-item"><a class="nav-link" href="#history" data-tab="history">연혁</a></li>
        <li class="nav-item"><a class="nav-link" href="#board" data-tab="board">이사회</a></li>
        <li class="nav-item"><a class="nav-link" href="#location" data-tab="location">찾아오시는 길</a></li>
      </ul>
    </div>
  </div>

  <main class="container content-wrap">
    <div class="row g-4">
      <!-- 왼쪽 카드 -->
      <div class="col-lg-4">
        <div class="card-soft p-4 h-100">
          <div id="leftMark" class="left-watermark">CEO<br/>MESSAGE</div>

          <hr class="my-4">
          <div class="fw-bold">활동 사진</div>
          <div class="muted mb-2">이미지 업로드 후 자동 삽입</div>
          <div class="d-flex gap-2 mb-2 flex-wrap">
            <button id="uploadBtn" class="btn btn-soft">사진 업로드</button>
            <button id="addImgUrlBtn" class="btn btn-ghost">URL로 추가</button>
          </div>
          <div id="lastUpload" class="muted small"></div>
        </div>
      </div>

      <!-- 오른쪽 카드 -->
      <div class="col-lg-8">
        <div class="card-soft p-4">
          <!-- 1) 이사장 인사말 -->
          <section id="tab-message" class="tab-pane is-active">
            <div class="section-title">이사장 인사말</div>
            <div id="content-message">
              <p><b>안녕하십니까. 홈페이지를 찾아주신 여러분께 감사드립니다.</b></p>
              <p class="muted">
                재단법인 서담(書潭)장학연구재단은 미래 인재들이 경제적 여건과 관계없이 학업과 연구에 전념할 수 있도록
                장학 및 학술 지원을 이어가고자 합니다.
              </p>
              <p>
                본 재단은 장학금 지급, 연구지원, 학술 교류 지원을 통해 공익적 가치를 확산하고,
                더 많은 분들께 실질적인 도움이 될 수 있도록 지속적으로 노력하겠습니다.
              </p>
              <p class="mb-0">여러분의 따뜻한 관심과 성원을 부탁드립니다.</p>
            </div>
          </section>

          <!-- 2) 설립취지 -->
          <section id="tab-purpose" class="tab-pane d-none">
            <div class="section-title">설립취지</div>
            <div id="content-purpose">
              <p>
                서담(書潭)장학연구재단은 장학사업 및 학술 연구 지원을 통해 사회에 기여하고,
                인재 양성과 학술 발전을 도모하기 위해 설립되었습니다.
              </p>
              <ul>
                <li>경제적 어려움이 있는 학생 지원</li>
                <li>학술 연구 활동 지원 및 연구비 후원</li>
                <li>교육·연구 관련 공익사업 추진</li>
              </ul>
            </div>
          </section>

          <!-- 3) 장학사업소개 -->
          <section id="tab-scholarship" class="tab-pane d-none">
            <div class="section-title">장학사업소개</div>
            <div id="content-scholarship">
              <p>재단은 다음과 같은 방식으로 장학 및 연구 지원 사업을 운영합니다.</p>
              <ol>
                <li>장학생 선발 및 장학금 지급</li>
                <li>학술 연구 과제/연구자 지원</li>
                <li>학술 교류 및 교육 프로그램 지원</li>
              </ol>
              <p class="muted mb-0">* 세부 기준 및 일정은 재단 운영 계획에 따라 공지됩니다.</p>
            </div>
          </section>

          <!-- 4) 연혁 (✅ 페이지 내 탭) -->
          <section id="tab-history" class="tab-pane d-none">
            <div class="section-title">연혁</div>
            <div class="timeline">
              <div class="t-item">
                <span class="t-dot" aria-hidden="true"></span>
                <div class="t-year">2025</div>
                <ul class="mb-0">
                  <li>장학 및 학술 연구 지원 사업 확대</li>
                  <li>협력 기관 연계 강화</li>
                </ul>
              </div>

              <div class="t-item">
                <span class="t-dot" aria-hidden="true"></span>
                <div class="t-year">2024</div>
                <ul class="mb-0">
                  <li>장학생 선발 및 연구 지원 프로그램 운영</li>
                  <li>재단 운영 체계 정비</li>
                </ul>
              </div>

              <div class="t-item">
                <span class="t-dot" aria-hidden="true"></span>
                <div class="t-year">2020</div>
                <ul class="mb-0">
                  <li>재단법인 서담(書潭)장학연구재단 설립</li>
                </ul>
              </div>
            </div>
            <p class="muted small mt-3 mb-0">* 연혁 내용은 실제 항목으로 교체하시면 됩니다.</p>
          </section>

          <!-- 5) 이사회 -->
          <section id="tab-board" class="tab-pane d-none">
            <div class="section-title">이사회</div>
            <div id="content-board">
              <p>재단의 공정하고 투명한 운영을 위해 이사회가 운영됩니다.</p>
              <ul>
                <li>이사장: (기재 예정)</li>
                <li>이사: (기재 예정)</li>
                <li>감사: (기재 예정)</li>
              </ul>
              <p class="muted mb-0">* 명단 및 역할은 확정 내용에 따라 업데이트됩니다.</p>
            </div>
          </section>

          <!-- 6) 찾아오시는 길 (✅ 페이지 내 탭) -->
          <section id="tab-location" class="tab-pane d-none">
            <div class="section-title">찾아오시는 길</div>

            <div class="d-grid gap-3">
              <div class="addr-card">
                <div class="fw-bold mb-1">서울 사무소</div>
                <div class="muted">서울시 서초구 효령로 355, KD CENTER (우)06643</div>
                <a href="https://map.naver.com/v5/search/서울시%20서초구%20효령로%20355%20KD%20CENTER"
                   target="_blank" rel="noreferrer">지도 보기 ↗</a>
              </div>

              <div class="addr-card">
                <div class="fw-bold mb-1">충청남도 예산군 고덕면</div>
                <div class="muted">충청남도 예산군 고덕면 삽교평야로 467 (우)32402</div>
                <a href="https://map.naver.com/v5/search/충청남도%20예산군%20고덕면%20삽교평야로%20467"
                   target="_blank" rel="noreferrer">지도 보기 ↗</a>
              </div>

              <div class="addr-card">
                <div class="fw-bold mb-1">충청남도 예산군 봉산면</div>
                <div class="muted">충청남도 예산군 봉산면 황금뜰로 67 (우)32404</div>
                <a href="https://map.naver.com/v5/search/충청남도%20예산군%20봉산면%20황금뜰로%2067"
                   target="_blank" rel="noreferrer">지도 보기 ↗</a>
              </div>

              <div class="addr-card">
                <div class="fw-bold mb-1">충청남도 예산군 덕산면</div>
                <div class="muted">충청남도 예산군 덕산면 남은들로 177 (우)32409</div>
                <a href="https://map.naver.com/v5/search/충청남도%20예산군%20덕산면%20남은들로%20177"
                   target="_blank" rel="noreferrer">지도 보기 ↗</a>
              </div>
            </div>

            <p class="muted small mt-3 mb-0">
              * 주소는 필요에 따라 수정하시면 됩니다. “지도 보기”는 네이버지도 검색 링크입니다.
            </p>
          </section>

          <hr class="my-4">

          <!-- 갤러리 -->
          <div class="d-flex align-items-end justify-content-between gap-2 mb-2">
            <div>
              <div class="fw-bold">갤러리</div>
              <div class="muted small">업로드한 이미지가 자동으로 추가됩니다.</div>
            </div>
          </div>

          <div id="gallery" class="gallery">
            <div class="g-item"><img src="../assets/img/sample1.jpg" alt="샘플"></div>
            <div class="g-item"><img src="../assets/img/sample2.jpg" alt="샘플"></div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- 전체 화면 메뉴 오버레이 -->
  <div id="menuOverlay" class="menu-overlay" aria-hidden="true">
    <div class="close-area">
      <button id="menuClose" class="hambtn" type="button" aria-label="메뉴 닫기">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M6 6l12 12M18 6L6 18" stroke="white" stroke-width="2.4" stroke-linecap="round"/>
        </svg>
      </button>
    </div>

    <div class="menu-wrap">
      <div class="menu-grid">
        <div class="menu-col">
          <h2>재단소개</h2>
          <a href="./about.html#message">이사장 인사말</a>
          <a href="./about.html#purpose">설립취지</a>
          <a href="./about.html#scholarship">장학사업소개</a>
          <a href="./about.html#history">연혁</a>
          <a href="./about.html#board">이사회</a>
          <a href="./about.html#location">찾아오시는 길</a>
        </div>

        <div class="menu-col">
          <h2>알림마당</h2>
          <a href="../notice/notice.html">공지사항</a>
          <a href="../notice/report.html">회계감사보고서</a>
          <a href="../notice/donation.html">모금액 및 활용실적</a>
          <a href="../notice/library.html">자료실</a>
          <a href="../notice/links.html">관련정부기관</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Cloudinary -->
  <script src="https://widget.cloudinary.com/v2.0/global/all.js"></script>

  <script>
    // ✅ Cloudinary 값 입력 (사진 업로드 버튼 사용 시 필요)
    const CLOUD_NAME = "YOUR_CLOUD_NAME";
    const UPLOAD_PRESET = "YOUR_UNSIGNED_UPLOAD_PRESET";

    // ====== 서브메뉴(탭) “플래시” 등장 ======
    const subnav = document.getElementById("subnav");
    window.addEventListener("DOMContentLoaded", () => {
      setTimeout(() => subnav.classList.add("is-in"), 90);
    });

    // ====== 탭 전환 ======
    const tabs = ["message", "purpose", "scholarship", "history", "board", "location"];
    const tabLinks = document.querySelectorAll("[data-tab]");
    const leftMark = document.getElementById("leftMark");

    function watermarkFor(tab){
      return {
        message: "CEO\nMESSAGE",
        purpose: "FOUNDATION\nPURPOSE",
        scholarship: "SCHOLARSHIP\nPROGRAM",
        history: "FOUNDATION\nHISTORY",
        board: "BOARD\nOF\nDIRECTORS",
        location: "LOCATION\n&\nMAP"
      }[tab] || "FOUNDATION";
    }

    function showPane(tab){
      const pane = document.getElementById("tab-" + tab);
      if(!pane) return;

      // 다른 패널 숨김
      tabs.forEach(t => {
        const el = document.getElementById("tab-" + t);
        if(!el) return;
        if(t !== tab){
          el.classList.remove("is-active");
          setTimeout(() => el.classList.add("d-none"), 160);
        }
      });

      // 선택 패널 표시 + 애니메이션
      pane.classList.remove("d-none");
      requestAnimationFrame(() => pane.classList.add("is-active"));

      // 탭 active
      tabLinks.forEach(a => a.classList.toggle("active", a.dataset.tab === tab));

      // 워터마크 변경
      leftMark.innerHTML = watermarkFor(tab).replaceAll("\n","<br/>");
    }

    tabLinks.forEach(a => {
      a.addEventListener("click", (e) => {
        e.preventDefault();
        const tab = a.dataset.tab;
        history.replaceState(null, "", "#" + tab);
        showPane(tab);
      });
    });

    // 초기 탭
    const init = (location.hash || "#message").replace("#", "");
    showPane(tabs.includes(init) ? init : "message");

    // ====== 갤러리(업로드/URL 추가) ======
    const galleryEl = document.getElementById("gallery");
    const lastUploadEl = document.getElementById("lastUpload");

    function addImageToGallery(url) {
      const wrap = document.createElement("div");
      wrap.className = "g-item";
      const img = document.createElement("img");
      img.src = url;
      img.alt = "재단 이미지";
      wrap.appendChild(img);
      galleryEl.prepend(wrap);
    }

    document.getElementById("addImgUrlBtn").addEventListener("click", () => {
      const url = prompt("추가할 이미지 URL을 입력하세요:");
      if (!url) return;
      addImageToGallery(url);
      lastUploadEl.innerHTML = `추가됨: <a href="${url}" target="_blank" rel="noreferrer">${url}</a>`;
    });

    const widget = cloudinary.createUploadWidget(
      {
        cloudName: CLOUD_NAME,
        uploadPreset: UPLOAD_PRESET,
        sources: ["local", "camera", "url"],
        multiple: false,
        maxFileSize: 10 * 1024 * 1024,
        clientAllowedFormats: ["jpg", "jpeg", "png", "webp"]
      },
      (error, result) => {
        if (!error && result && result.event === "success") {
          const url = result.info.secure_url;
          addImageToGallery(url);
          lastUploadEl.innerHTML = `업로드됨: <a href="${url}" target="_blank" rel="noreferrer">${url}</a>`;
        }
      }
    );

    document.getElementById("uploadBtn").addEventListener("click", () => {
      if (CLOUD_NAME.includes("YOUR_") || UPLOAD_PRESET.includes("YOUR_")) {
        alert("Cloudinary 설정값(CLOUD_NAME, UPLOAD_PRESET)을 먼저 입력해주세요.");
        return;
      }
      widget.open();
    });

    // ====== 오버레이 메뉴 ======
    const menuBtn = document.getElementById("menuBtn");
    const menuOverlay = document.getElementById("menuOverlay");
    const menuClose = document.getElementById("menuClose");

    function openMenu(){
      menuOverlay.classList.add("open");
      menuOverlay.setAttribute("aria-hidden","false");
      document.body.style.overflow = "hidden";
    }
    function closeMenu(){
      menuOverlay.classList.remove("open");
      menuOverlay.setAttribute("aria-hidden","true");
      document.body.style.overflow = "";
    }

    menuBtn.addEventListener("click", openMenu);
    menuClose.addEventListener("click", closeMenu);

    menuOverlay.addEventListener("click", (e) => {
      if (e.target === menuOverlay) closeMenu();
    });
    window.addEventListener("keydown", (e) => {
      if (e.key === "Escape") closeMenu();
    });
    menuOverlay.querySelectorAll("a").forEach(a => a.addEventListener("click", () => closeMenu()));
  </script>
</body>
</html>
